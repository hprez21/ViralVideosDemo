<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="ViralVideosDemo.Pages.AddVideoIdeaPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:vm="clr-namespace:ViralVideosDemo.ViewModels"
    Title="Add Video Idea"
    x:DataType="vm:AddVideoIdeaViewModel">

    <ScrollView>
        <VerticalStackLayout
            Padding="30,0"
            Spacing="25"
            VerticalOptions="Center">

            <!--  Title  -->
            <Label
                FontAttributes="Bold"
                FontSize="24"
                HorizontalOptions="Center"
                Text="Share Your Viral Video Idea"
                TextColor="{AppThemeBinding Light={StaticResource Primary},
                                            Dark={StaticResource White}}" />

            <!--  Subtitle  -->
            <Label
                FontSize="16"
                HorizontalOptions="Center"
                Text="Describe your creative idea for a viral video"
                TextColor="{AppThemeBinding Light={StaticResource Gray600},
                                            Dark={StaticResource Gray300}}" />

            <!--  Text Input Area  -->
            <Border
                Padding="10"
                BackgroundColor="{AppThemeBinding Light={StaticResource White},
                                                  Dark={StaticResource Gray950}}"
                Stroke="{AppThemeBinding Light={StaticResource Gray200},
                                         Dark={StaticResource Gray500}}"
                StrokeShape="RoundRectangle 8"
                StrokeThickness="1">

                <Editor
                    BackgroundColor="Transparent"
                    FontSize="16"
                    HeightRequest="200"
                    Placeholder="Tell us about your viral video idea... What makes it special? What's the concept, story, or hook that will capture viewers' attention?"
                    PlaceholderColor="{AppThemeBinding Light={StaticResource Gray400},
                                                       Dark={StaticResource Gray500}}"
                    Text="{Binding VideoIdea}"
                    TextColor="{AppThemeBinding Light={StaticResource Black},
                                                Dark={StaticResource White}}" />

            </Border>

            <!--  Character count label  -->
            <Label
                FontSize="12"
                HorizontalOptions="End"
                Text="{Binding CharacterCountText}"
                TextColor="{AppThemeBinding Light={StaticResource Gray500},
                                            Dark={StaticResource Gray400}}" />

            <!--  AI Enhancement Option  -->
            <Border
                Margin="0,10,0,0"
                Padding="15"
                BackgroundColor="{AppThemeBinding Light={StaticResource Gray100},
                                                  Dark={StaticResource Gray900}}"
                Stroke="{AppThemeBinding Light={StaticResource Gray200},
                                         Dark={StaticResource Gray500}}"
                StrokeShape="RoundRectangle 12"
                StrokeThickness="1">

                <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="12">

                    <!--  AI Enhancement Icon  -->
                    <Border
                        Grid.Column="0"
                        BackgroundColor="{AppThemeBinding Light={StaticResource Primary},
                                                          Dark={StaticResource Primary}}"
                        HeightRequest="32"
                        HorizontalOptions="Center"
                        StrokeShape="RoundRectangle 8"
                        VerticalOptions="Center"
                        WidthRequest="32">

                        <Label
                            FontSize="16"
                            HorizontalOptions="Center"
                            Text="âœ¨"
                            TextColor="White"
                            VerticalOptions="Center" />
                    </Border>

                    <!--  Enhancement Description  -->
                    <StackLayout
                        Grid.Column="1"
                        Spacing="2"
                        VerticalOptions="Center">
                        <Label
                            FontAttributes="Bold"
                            FontSize="16"
                            Text="AI Prompt Enhancement"
                            TextColor="{AppThemeBinding Light={StaticResource Black},
                                                        Dark={StaticResource White}}" />

                        <Label
                            FontSize="13"
                            Text="Let AI optimize your idea for better viral potential"
                            TextColor="{AppThemeBinding Light={StaticResource Gray600},
                                                        Dark={StaticResource Gray400}}" />
                    </StackLayout>

                    <!--  Enhancement Toggle  -->
                    <Border
                        Grid.Column="2"
                        BackgroundColor="{Binding EnhancementToggleBorderColor}"
                        HeightRequest="30"
                        StrokeShape="RoundRectangle 20"
                        VerticalOptions="Center"
                        WidthRequest="50">

                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding ToggleEnhancementCommand}" />
                        </Border.GestureRecognizers>

                        <Grid>
                            <!--  Toggle Circle  -->
                            <Border
                                Margin="2,0"
                                BackgroundColor="White"
                                HeightRequest="26"
                                HorizontalOptions="Start"
                                StrokeShape="RoundRectangle 14"
                                TranslationX="{Binding EnhancementToggleTranslationX}"
                                VerticalOptions="Center"
                                WidthRequest="26">

                                <Label
                                    FontSize="12"
                                    HorizontalOptions="Center"
                                    Opacity="{Binding EnhancementToggleOpacity}"
                                    Text="{Binding EnhancementToggleIcon}"
                                    VerticalOptions="Center" />
                            </Border>
                        </Grid>
                    </Border>

                </Grid>
            </Border>

            <!--  Generate Button  -->
            <Button
                Margin="0,20,0,0"
                BackgroundColor="{StaticResource Primary}"
                Command="{Binding GenerateViralStoryCommand}"
                CornerRadius="25"
                FontAttributes="Bold"
                FontSize="18"
                HeightRequest="50"
                HorizontalOptions="Fill"
                IsEnabled="{Binding CanGenerateStory}"
                Text="{Binding GenerateButtonText}"
                TextColor="White" />

        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
